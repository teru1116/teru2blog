language: node_js
node_js:
  - 10.16.0
dist: trusty
sudo: false
branches:
  only:
  - master
  - develop
install:
  - yarn global add firebase-tools nuxt
  - yarn install
  - nvm install 11.11.0
  - nvm install 8.1.0
script:
  - nvm use 11.11.0
  - bash build.sh
deploy:
  provider: firebase
  skip_cleanup: true
  token:
    secure: $FIREBASE_TOKEN
  project: teru2blog-staging
  on:
    all_branches: true
